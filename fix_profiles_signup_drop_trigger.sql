-- ============================================
-- ОБХІД: прибрати тригер — профіль створюється з клієнта після signUp
-- ============================================
-- Тригер на auth.users викликає "Database error saving new user" (RLS/права).
-- Якщо прибрати тригер, signUp проходить. Профіль створює додаток після реєстрації.
--
-- 1. Виконайте цей SQL у Supabase → SQL Editor (Run).
-- 2. Задеплойте оновлений фронт (RegisterModal створює профіль після signUp).
-- ============================================

DROP TRIGGER IF EXISTS on_auth_user_created ON auth.users;

-- Функцію handle_new_user можна залишити або видалити — вона більше не викликається.
-- DROP FUNCTION IF EXISTS public.handle_new_user();

-- ============================================
-- Готово. Реєстрація має працювати після оновлення фронту.
-- ============================================
