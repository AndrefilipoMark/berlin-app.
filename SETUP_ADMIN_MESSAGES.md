# üìù –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ admin_messages

## –ü—Ä–æ–±–ª–µ–º–∞
–¢–∞–±–ª–∏—Ü—è `admin_messages` –Ω–µ —ñ—Å–Ω—É—î –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö, —Ç–æ–º—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–µ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω—ñ.

## –†—ñ—à–µ–Ω–Ω—è

### –ö—Ä–æ–∫ 1: –í—ñ–¥–∫—Ä–∏–π—Ç–µ Supabase Dashboard
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [supabase.com](https://supabase.com)
2. –£–≤—ñ–π–¥—ñ—Ç—å —É —Å–≤—ñ–π –∞–∫–∞—É–Ω—Ç
3. –í–∏–±–µ—Ä—ñ—Ç—å –≤–∞—à –ø—Ä–æ–µ–∫—Ç

### –ö—Ä–æ–∫ 2: –í—ñ–¥–∫—Ä–∏–π—Ç–µ SQL Editor
1. –£ –ª—ñ–≤–æ–º—É –º–µ–Ω—é –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **"SQL Editor"**
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"New query"** (–∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ —ñ—Å–Ω—É—é—á–∏–π)

### –ö—Ä–æ–∫ 3: –í–∏–∫–æ–Ω–∞–π—Ç–µ SQL-—Å–∫—Ä–∏–ø—Ç
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ñ–∞–π–ª `add_admin_messages_table.sql` –∑ –∫–æ—Ä–µ–Ω—è –ø—Ä–æ–µ–∫—Ç—É
2. –°–∫–æ–ø—ñ—é–π—Ç–µ **–≤–µ—Å—å –≤–º—ñ—Å—Ç** —Ñ–∞–π–ª—É
3. –í—Å—Ç–∞–≤—Ç–µ –≤ SQL Editor
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Run"** (–∞–±–æ `Ctrl/Cmd + Enter`)

### –ö—Ä–æ–∫ 4: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
–ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø–æ–±–∞—á–∏—Ç–∏:
- ‚úÖ –£—Å–ø—ñ—à–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω—ñ —ñ–Ω–¥–µ–∫—Å–∏
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω—ñ RLS –ø–æ–ª—ñ—Ç–∏–∫–∏
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–∏–π —Ç—Ä–∏–≥–µ—Ä

### –ö—Ä–æ–∫ 5: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ç–∞–±–ª–∏—Ü—é
1. –£ –ª—ñ–≤–æ–º—É –º–µ–Ω—é –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Table Editor"**
2. –í–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø–æ–±–∞—á–∏—Ç–∏ —Ç–∞–±–ª–∏—Ü—é `admin_messages` —É —Å–ø–∏—Å–∫—É

### –ö—Ä–æ–∫ 6: –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∞–¥–º—ñ–Ω—ñ–≤ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
–Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ, —â–æ–± –ø–µ–≤–Ω—ñ email –º–∞–ª–∏ –ø—Ä–∞–≤–∞ –∞–¥–º—ñ–Ω–∞:

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **Table Editor** ‚Üí `profiles`
2. –ó–Ω–∞–π–¥—ñ—Ç—å –ø—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–∑–∞ ID –∑ `auth.users`)
3. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å `is_admin = true`

–ê–±–æ –≤–∏–∫–æ–Ω–∞–π—Ç–µ SQL:
```sql
UPDATE profiles 
SET is_admin = true 
WHERE id IN (
  SELECT id FROM auth.users 
  WHERE email IN ('andrefilipoua@gmail.com', 'test@example.com', 'admin@berlin-app.com')
);
```

## –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

1. –û–Ω–æ–≤—ñ—Ç—å —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
2. –°–ø—Ä–æ–±—É–π—Ç–µ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É "–ù–∞–ø–∏—Å–∞—Ç–∏ –∞–¥–º—ñ–Ω—É"
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª—ñ –±—Ä–∞—É–∑–µ—Ä–∞ - –Ω–µ –ø–æ–≤–∏–Ω–Ω–æ –±—É—Ç–∏ –ø–æ–º–∏–ª–æ–∫ 404

## –ú–æ–∂–ª–∏–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏

### –ü–æ–º–∏–ª–∫–∞: "function update_updated_at_column() does not exist"
–¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ —Ñ—É–Ω–∫—Ü—ñ—è —â–µ –Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–∞. –°–ø–æ—á–∞—Ç–∫—É –≤–∏–∫–æ–Ω–∞–π—Ç–µ —Ü–µ–π SQL:

```sql
CREATE OR REPLACE FUNCTION update_updated_at_column()
RETURNS TRIGGER AS $$
BEGIN
  NEW.updated_at = NOW();
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;
```

–ü–æ—Ç—ñ–º –≤–∏–∫–æ–Ω–∞–π—Ç–µ –≤–µ—Å—å —Å–∫—Ä–∏–ø—Ç `add_admin_messages_table.sql` –∑–Ω–æ–≤—É.

### –ü–æ–º–∏–ª–∫–∞: "relation profiles does not exist"
–¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ —Ç–∞–±–ª–∏—Ü—è `profiles` –Ω–µ —ñ—Å–Ω—É—î. –°–ø–æ—á–∞—Ç–∫—É —Å—Ç–≤–æ—Ä—ñ—Ç—å —Ç–∞–±–ª–∏—Ü—é `profiles` –∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ `database_schema.sql`.

## –ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

‚úÖ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±—É–¥—É—Ç—å –∑–±–µ—Ä—ñ–≥–∞—Ç–∏—Å—è –≤ —Ç–∞–±–ª–∏—Ü—ñ `admin_messages`  
‚úÖ –ê–¥–º—ñ–Ω–∏ –∑–º–æ–∂—É—Ç—å –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —ó—Ö –≤ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ (`/admin`)  
‚úÖ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –∑–º–æ–∂—É—Ç—å –≤—ñ–¥–ø—Ä–∞–≤–ª—è—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–∞–≤—ñ—Ç—å –±–µ–∑ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó
